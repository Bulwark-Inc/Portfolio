{% load tailwind_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Personal portfolio showcasing projects, services, and contact info.">
        <meta name="author" content="Shiloh Egwuautu">
        <meta name="keywords" content="portfolio, developer, Fullstack, django, tailwind, alpine, AOS, Shiloh Egwuautu, Medicine">
        <meta name="robots" content="index, follow">

        <title>{% block title %}NonWare{% endblock %}</title>
    
        <link rel="icon" href="{% static 'images/favicon.ico' %}">

        {% tailwind_css %}
        <link rel="stylesheet" href="{% static 'css/custom.css' %}">

        <style>
            .lucide-tiktok svg {
            width: 2em;
            height: 1.6em;
            color: currentColor;
            }
        </style>
        {% block styles %}{% endblock %}

        <script>
            if (
                localStorage.theme === 'dark' ||
                (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
            ) {
                document.documentElement.classList.add('dark');
            }
        </script>
    </head>

    <body class="bg-white text-gray-800 dark:bg-dark dark:text-gray-100 transition-all duration-500 ease-in-out relative opacity-100">

        <!-- Header -->
        {% include 'components/_header.html' %}

        <!-- Dark Mode Button Floating -->
        <button id="darkToggleBtn"
                aria-pressed="false"
                aria-label="Toggle Dark Mode"
                class="fixed bottom-12 left-4 px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 dark:bg-yellow-500 dark:text-black dark:hover:bg-yellow-400 transition shadow-lg z-50">
            <i id="darkModeIcon" data-lucide="moon" class="w-6 h-6"></i>
        </button>

        <!-- Main Content -->
        <main class="container mx-auto p-4 pt-24" data-aos="fade-up">

            <!-- Back Navigation -->
            <a href={% block back_button_link %}{% url 'home' %}{% endblock %} class="inline-flex items-center text-blue-600 hover:text-blue-800">
                <!-- Left Arrow Icon -->
                {% block hide_svg %}<i data-lucide="arrow-left" class="w-6 h-6"></i>{% endblock %}
                {% block back_button_text %}Back Home{% endblock %}
            </a>
            
            {% block content %}
            {% endblock %}
        </main>

        <!-- Footer -->
        {% include 'components/_footer.html' %}
        {% include 'components/_chatbot.html' %}


        <!-- External JS -->
        
        <!-- Load AOS JS -->
        <script src="{% static 'js/aos.js' %}"></script>
        <script>
            AOS.init({
                duration: 1000,
                once: true
            });
        </script>
        
        <!-- Load Alpine JS & Lucide -->
        <script src="{% static 'js/bundle.js' %}" defer></script>
        
        <!-- Darkmode and Chatbot scripts -->
        <script src="{% static 'js/darkmode.js' %}" defer></script>
        <script src="{% static 'js/chatbot.js' %}" defer></script>
        
        {% block scripts %}{% endblock %}

    </body>

</html>